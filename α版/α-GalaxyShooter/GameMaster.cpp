//===================================================================================================================================
//yGameMaster.cppz
// [ì¬Ò]HAL“Œ‹GP12A332 11 ›–ì ÷
// [ì¬“ú]2019/07/31
// [XV“ú]2019/08/04
//===================================================================================================================================
#include "GameMaster.h"
using namespace gameMasterNS;

//===================================================================================================================================
//yƒRƒ“ƒXƒgƒ‰ƒNƒ^z
//===================================================================================================================================
GameMaster::GameMaster()
{
	ZeroMemory(this, sizeof(GameMaster));
}

//===================================================================================================================================
//yƒfƒXƒgƒ‰ƒNƒ^z
//===================================================================================================================================
GameMaster::~GameMaster()
{

}

//===================================================================================================================================
//y‰Šú‰»z
//===================================================================================================================================
void GameMaster::initialize()
{
}

//===================================================================================================================================
//yXVz
//===================================================================================================================================
void GameMaster::update(float frameTime)
{
	//ƒQ[ƒ€ƒ^ƒCƒ€‚ÌXV
	updateGameTime(frameTime);
}

//===================================================================================================================================
//yƒQ[ƒ€ŠÔ‚ÌXVz
//===================================================================================================================================
void GameMaster::updateGameTime(float frameTime)
{
	gameTimer -= frameTime;
}

//===================================================================================================================================
//yƒQ[ƒ€ŠÔ‚ÌƒŠƒZƒbƒgz
//===================================================================================================================================
void GameMaster::resetGameTime()
{
	gameTimer = GAME_TIME;
}


//===================================================================================================================================
//ysetterz
//===================================================================================================================================
void GameMaster::addWage(int playerNo, int wage){ playerInformation[playerNo].wage += wage;}
void GameMaster::setPlayerCharacter(int playerNo,int playerType, int modelType) {
	if (playerNo >= playerNS::NUM_PLAYER || playerNo < 0)return;
	playerInformation[playerNo].playerType= modelType;
	playerInformation[playerNo].modelType = modelType;
}

//===================================================================================================================================
//ygetterz
//===================================================================================================================================
//Ÿ”sŒ‹‰Ê‚ğæ“¾
int GameMaster::getResult() {
	int result = DRAW;
	if (playerInformation[playerNS::PLAYER1].wage > playerInformation[playerNS::PLAYER2].wage)
	{
		result = WIN_1P;
	}
	else
	{
		result = WIN_2P;
	}
	return DRAW;
}
//ƒvƒŒƒCƒ„[î•ñ‚Ìæ“¾
playerTable* GameMaster::getPlayerInfomation(){	return playerInformation;}
//ƒQ[ƒ€§ŒÀŠÔ‚Ìæ“¾
float GameMaster::getGameTime() {return gameTimer;}
//ƒQ[ƒ€‚ªI—¹‚µ‚½‚©‚Ç‚¤‚©
bool GameMaster::whetherGameOver(){	return gameTimer < 0;}